[buildout]

allow-picked-versions = false

extends =
    base.cfg
    sources.cfg
    picked-versions.cfg

parts =
    lxml
    GDAL
    instance-ipython
    zeoserver
    instance-debug
    instance1
    instance2
    ordf-conf
    celery-conf
    plonesite
    backup
    test
    test-coverage
    test-coverage-report

[instance-settings]
eggs +=
    org.bccvl.testsetup
    org.bccvl.compute

[test]
eggs +=
    org.bccvl.site [test]
    org.bccvl.theme [test]
    org.bccvl.compute [test]
    gu.plone.rdf [test]
    gu.repository.content [test]
    gu.z3cform.rdf [test]
defaults = ['--auto-color', '--auto-progress',
            '-m', 'gu.z3cform.rdf',
            '-m', 'gu.plone.rdf',
            '-m', 'gu.repository.content',
            '-m', 'org.bccvl.site',
            '-m', 'org.bccvl.theme',
            '-m', 'org.bccvl.compute',
           ]

[test-coverage]
defaults = ['--coverage', '../../coverage', '-v', '--auto-progress',
            '-m', 'gu.z3cform.rdf',
            '-m', 'gu.plone.rdf',
            '-m', 'gu.repository.content',
            '-m', 'org.bccvl.site',
            '-m', 'org.bccvl.theme',
            '-m', 'org.bccvl.compute',
           ]

[jenkins-test]
defaults = ['--auto-color', '--auto-progress', '--xml',
            '-m', 'gu.z3cform.rdf',
            '-m', 'gu.plone.rdf',
            '-m', 'gu.repository.content',
            '-m', 'org.bccvl.site',
            '-m', 'org.bccvl.theme',
            '-m', 'org.bccvl.compute',
           ]


[jenkins]
jenkins-test-eggs +=
    org.bccvl.site [test]
    org.bccvl.compute [test]
    org.bccvl.theme [test]
    gu.plone.rdf [test]
    gu.repository.content [test]
    gu.z3cform.rdf [test]
jenkins-test-directories +=
    src/org.bccvl.site
    src/org.bccvl.theme
    src/gu.plone.rdf
    src/gu.repository.content
    src/gu.z3cform.rdf
